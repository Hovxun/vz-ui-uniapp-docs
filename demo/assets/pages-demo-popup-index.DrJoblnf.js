import{_ as o}from"./vz-button.cx2lf3FV.js";import{d as e,m as s,z as a,A as t,B as n,u as l,o as i,c as p,w as r,v as c,b as u,p as d,q as f,C as m,n as h,f as b,a as v,e as _,t as g,h as y,F as k,j as w,S as C,r as B}from"./index-BWsgb0Z6.js";import{r as z}from"./uni-app.es.OTBXlo_2.js";import{u as j,a as I,V as x}from"./vz-overlay.D5RRWZx4.js";import{V as A}from"./vz-icon.h-xGOTaU.js";import{c as E}from"./bem.DA8SpLb8.js";import{a as S}from"./unit.BrsgufDc.js";import{g as T,a as H}from"./system.B02o3CAN.js";import{_ as P}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./vz-loading.DONHz6gJ.js";const V=P(e({name:"VZPopup",__name:"vz-popup",props:{show:{type:Boolean,default:!1},position:{default:"center"},zIndex:{},background:{},radius:{},closeable:{type:Boolean,default:!0},closeIcon:{default:"vz-icon-close"},closeSize:{},closeColor:{},closePosition:{default:"top-right"},closeEdge:{},overlay:{type:Boolean,default:!0},overlayCloseable:{type:Boolean,default:!1},overlayBackground:{},animation:{type:Boolean,default:!1},duration:{default:250},safeAreaInsetTop:{type:Boolean,default:!1},safeAreaInsetBottom:{type:Boolean,default:!1},navbarHeight:{},tabbarHeight:{},iClass:{},iStyle:{}},emits:["update:show","open","opened","close","closed"],setup(o,{emit:e}){const v=o,_=e,g=E("popup"),y=s((()=>({...g.cssVar({"status-bar-height":v.safeAreaInsetTop?`${T()}px`:"","transition-duration":v.animation?"":`${v.duration}ms`,"animation-duration":v.animation?`${v.duration}ms`:""}),...g.cssVarBlock({background:v.background,radius:S(v.radius),"close-size":S(v.closeSize),"close-color":v.closeColor,"close-edge":S(v.closeEdge),"navbar-height":"auto"===v.navbarHeight?`${H()}px`:S(v.navbarHeight,"px"),"tabbar-height":S(v.tabbarHeight,"px")})})));function k(){v.overlayCloseable&&_("update:show",!1)}function w(){v.closeable&&_("update:show",!1)}const C=s((()=>({center:"fade",top:"slide-top",bottom:"slide-bottom",left:"slide-left",right:"slide-right"}[v.position]))),B=v.animation?j:I,{isShow:z,currentClass:P,onEnter:V,onLeave:$,onEnd:L}=B({mode:C,show:v.show,duration:v.duration,beforeEnter(){_("open")},afterEnter(){_("opened")},beforeLeave(){_("close")},afterLeave(){_("closed")}});return a((()=>v.show),(o=>{o?V():$()})),(o,e)=>{const s=b;return t((i(),p(s,{class:d([l(g).b(),l(g).m(o.position),l(g).is("safe-top",o.safeAreaInsetTop),l(g).is("safe-bottom",o.safeAreaInsetBottom),o.iClass]),style:f(y.value),onTouchmove:e[1]||(e[1]=m((()=>{}),["stop","prevent"]))},{default:r((()=>[o.overlay?(i(),p(x,{key:0,show:o.show,duration:o.duration,animation:o.animation,"z-index":"1",background:o.overlayBackground,onClick:k},null,8,["show","duration","animation","background"])):c("",!0),u(s,{class:d([l(g).e("content"),l(P)]),style:f(o.iStyle),onClick:e[0]||(e[0]=m((()=>{}),["stop"])),onTransitionend:m(l(L),["stop"]),onAnimationend:m(l(L),["stop"])},{default:r((()=>[o.closeable?(i(),p(s,{key:0,class:d([l(g).e("icon"),l(g).em("icon",o.closePosition)]),onClick:m(w,["stop"])},{default:r((()=>[u(A,{name:o.closeIcon},null,8,["name"])])),_:1},8,["class"])):c("",!0),h(o.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onTransitionend","onAnimationend"])])),_:3},8,["class","style"])),[[n,0==o.duration?o.show:l(z)]])}}}),[["__scopeId","data-v-fce7b6df"]]),$=P(e({__name:"PopupDemo",props:{show:{type:Boolean,default:!1},position:{}},emits:["update:show"],setup(o,{emit:e}){const s=o,a=e;function t(){a("update:show",!1)}function n(){console.log("OPEN:",s.show)}function l(){console.log("CLOSE:",s.show)}return(o,e)=>{const s=b,a=C,c=z(v("vz-popup"),V);return i(),p(c,{show:o.show,position:o.position,"overlay-closeable":"",safeAreaInsetBottom:"","onUpdate:show":t,onOpen:n,onClose:l},{default:r((()=>[u(s,{class:"popup"},{default:r((()=>[u(a,{"scroll-y":"","using-sticky":"",class:d(["popup_scroll--"+o.position,"popup_scroll"])},{default:r((()=>[u(s,{class:"popup_header",onClick:t},{default:r((()=>[_(g(o.position),1)])),_:1}),u(s,{class:"popup_list"},{default:r((()=>[(i(),y(k,null,w(50,(o=>u(s,{key:o,class:"popup_item"},{default:r((()=>[_(g(o),1)])),_:2},1024))),64))])),_:1})])),_:1},8,["class"])])),_:1})])),_:1},8,["show","position"])}}}),[["__scopeId","data-v-75109f98"]]),L=P(e({__name:"index",setup(e){const s=B(!1),a=B("top");function t(o){s.value=!0,a.value=o}return(e,n)=>{const c=z(v("vz-button"),o),d=b;return i(),p(d,{class:"app-page"},{default:r((()=>[u(c,{block:"",onClick:n[0]||(n[0]=o=>t("center"))},{default:r((()=>[_("center")])),_:1}),u(c,{block:"","i-class":"sc-mt-30",onClick:n[1]||(n[1]=o=>t("top"))},{default:r((()=>[_("top")])),_:1}),u(c,{block:"","i-class":"sc-mt-30",onClick:n[2]||(n[2]=o=>t("bottom"))},{default:r((()=>[_("bottom")])),_:1}),u(c,{block:"","i-class":"sc-mt-30",onClick:n[3]||(n[3]=o=>t("left"))},{default:r((()=>[_("left")])),_:1}),u(c,{block:"","i-class":"sc-mt-30",onClick:n[4]||(n[4]=o=>t("right"))},{default:r((()=>[_("right")])),_:1}),u(l($),{show:s.value,"onUpdate:show":n[5]||(n[5]=o=>s.value=o),position:a.value},null,8,["show","position"])])),_:1})}}}),[["__scopeId","data-v-8c65d341"]]);export{L as default};
