import{d as e,N as a,m as o,r as s,z as l,o as t,c as r,w as n,p as c,u as i,n as d,v as u,b as f,A as p,B as m,e as y,t as h,q as w,f as v,O as b,y as x}from"./index-Blpl2poy.js";import{V as g}from"./vz-icon.7LV43ILB.js";import{c as k}from"./bem.DA8SpLb8.js";import{a as C}from"./unit.Ce8tXKdL.js";import{s as B}from"./utils.ULpyx3YV.js";import{F as _,a as S}from"./constants.Dht7B1D0.js";import{_ as P}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j={log:function(...e){},warn:function(...e){},error:function(...e){}},z=P(e({name:"VZInput",__name:"vz-input",props:{modelValue:{default:""},type:{default:"text"},password:{type:Boolean,default:!1},passwordShowable:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},interspace:{},height:{},background:{},border:{type:Boolean,default:!1},borderBottom:{type:Boolean,default:!1},borderColor:{},square:{type:Boolean,default:!1},round:{type:Boolean,default:!1},textAlign:{},textColor:{},textSize:{},maxlength:{default:140},showWordLimit:{type:Boolean,default:!1},prefixIcon:{},suffixIcon:{},iconSize:{},iconColor:{},placeholder:{},placeholderClass:{default:"input-placeholder"},placeholderStyle:{},confirmType:{default:"done"},validate:{type:Boolean,default:!0},iClass:{},iStyle:{},cursor:{},cursorSpacing:{default:2},cursorColor:{},selectionStart:{default:-1},selectionEnd:{default:-1},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},adjustPosition:{type:Boolean,default:!0},alwaysEmbed:{type:Boolean,default:!1},safePasswordCertPath:{},safePasswordLength:{},safePasswordTimeStamp:{},safePasswordNonce:{},safePasswordSalt:{},safePasswordCustomHash:{}},emits:["update:modelValue","input","focus","blur","confirm","clear","click","prefix-icon","suffix-icon","keyboardheightchange","nicknamereview"],setup(e,{emit:P}){const z=a(_,void 0),I=a(S,void 0),V=e,$=P,q=k("input"),N=o((()=>q.cssVarBlock({interspace:C(V.interspace),height:C(V.height),background:V.background,"border-color":V.borderColor,"text-size":V.textSize,"text-color":V.textColor,"icon-size":C(V.iconSize),"icon-color":V.iconColor}))),E=s(!1),H=o((()=>V.disabled||(null==z?void 0:z.disabled))),L=o((()=>V.readonly||(null==z?void 0:z.readonly))),T=o((()=>V.clearable&&!H.value&&!L.value)),A=o((()=>!!V.modelValue&&E.value)),K=s(!1),F=o((()=>("password"===V.type||V.password)&&V.passwordShowable&&!H.value&&!L.value)),W=o((()=>K.value?"vz-icon-eye":"vz-icon-eye-close")),O=o((()=>V.showWordLimit&&Number(V.maxlength)>0&&"text"===V.type&&!H.value&&!L.value&&!V.password));function Z(){K.value=!K.value}function D(){V.readonly&&$("click")}function G(){$("update:modelValue",""),$("input",""),$("clear")}function J(){$("prefix-icon")}function M(){$("suffix-icon")}function Q(e){const a=e.detail.value;$("update:modelValue",a),$("input",e)}function R(e){E.value=!0,$("focus",e)}async function U(e){$("blur",e),V.validate&&(null==I||I.validate("blur").catch((e=>j.warn(e)))),await B(300),E.value=!1}function X(e){const a=e.detail.value;$("confirm",a)}function Y(e){$("keyboardheightchange",e)}function ee(e){$("nicknamereview",e)}return l((()=>V.modelValue),(()=>{V.validate&&(null==I||I.validate("change").catch((e=>j.warn(e))))})),(e,a)=>{const o=v,s=b,l=x;return t(),r(o,{class:c([i(q).b(),i(q).is("disabled",H.value),i(q).is("readonly",L.value),i(q).is("square",e.square),i(q).is("round",e.round),i(q).is("border",e.border),i(q).is("border-bottom",e.borderBottom),i(q).is("interspace",e.round||e.border||e.background),e.iClass]),style:w([N.value,e.iStyle]),onClick:D},{default:n((()=>[e.prefixIcon||e.$slots.prefix?(t(),r(o,{key:0,class:c(i(q).e("prefix"))},{default:n((()=>[e.$slots.prefix?(t(),r(o,{key:0,class:c(i(q).e("prefix-slot"))},{default:n((()=>[d(e.$slots,"prefix",{},void 0,!0)])),_:3},8,["class"])):u("",!0),e.prefixIcon?(t(),r(o,{key:1,class:c([i(q).e("prefix-icon"),i(q).e("icon")]),onClick:J},{default:n((()=>[f(g,{name:e.prefixIcon},null,8,["name"])])),_:1},8,["class"])):u("",!0)])),_:3},8,["class"])):u("",!0),f(s,{class:c([i(q).e("inner"),i(q).em("inner",e.textAlign)]),value:e.modelValue,disabled:H.value||L.value,type:"password"===e.type||e.password?"text":e.type,password:("password"===e.type||e.password)&&!K.value,placeholder:e.placeholder,"placeholder-class":e.placeholderClass,"placeholder-style":e.placeholderStyle,focus:e.focus,maxlength:e.maxlength,"confirm-type":e.confirmType,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"cursor-color":e.cursorColor,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"confirm-hold":e.confirmHold,"hold-keyboard":e.holdKeyboard,"adjust-position":e.adjustPosition,"always-embed":e.alwaysEmbed,"safe-password-cert-path":e.safePasswordCertPath,"safe-password-length":e.safePasswordLength,"safe-password-time-stamp":e.safePasswordTimeStamp,"safe-password-nonce":e.safePasswordNonce,"safe-password-salt":e.safePasswordSalt,"safe-password-custom-hash":e.safePasswordCustomHash,onInput:Q,onFocus:R,onBlur:U,onConfirm:X,onKeyboardheightchange:Y,onNicknamereview:ee},null,8,["class","value","disabled","type","password","placeholder","placeholder-class","placeholder-style","focus","maxlength","confirm-type","cursor","cursor-spacing","cursor-color","selection-start","selection-end","confirm-hold","hold-keyboard","adjust-position","always-embed","safe-password-cert-path","safe-password-length","safe-password-time-stamp","safe-password-nonce","safe-password-salt","safe-password-custom-hash"]),T.value||F.value||O.value||e.suffixIcon||e.$slots.suffix?(t(),r(o,{key:1,class:c(i(q).e("suffix"))},{default:n((()=>[T.value?p((t(),r(o,{key:0,class:c([i(q).e("clear"),i(q).e("icon")]),onClick:G},{default:n((()=>[f(g,{name:"vz-icon-close-circle"})])),_:1},8,["class"])),[[m,A.value]]):u("",!0),F.value?(t(),r(o,{key:1,class:c([i(q).e("password"),i(q).e("icon")]),onClick:Z},{default:n((()=>[f(g,{name:W.value},null,8,["name"])])),_:1},8,["class"])):u("",!0),O.value?(t(),r(o,{key:2,class:c(i(q).e("counter"))},{default:n((()=>[f(l,null,{default:n((()=>[y(h(e.modelValue.length),1)])),_:1}),f(l,null,{default:n((()=>[y("/")])),_:1}),f(l,null,{default:n((()=>[y(h(e.maxlength),1)])),_:1})])),_:1},8,["class"])):u("",!0),e.suffixIcon?(t(),r(o,{key:3,class:c([i(q).e("suffix-icon"),i(q).e("icon")]),onClick:M},{default:n((()=>[f(g,{name:e.suffixIcon},null,8,["name"])])),_:1},8,["class"])):u("",!0),e.$slots.suffix?(t(),r(o,{key:4,class:c(i(q).e("suffix-slot"))},{default:n((()=>[d(e.$slots,"suffix",{},void 0,!0)])),_:3},8,["class"])):u("",!0)])),_:3},8,["class"])):u("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-4eaa1b15"]]);export{z as _};
