import{d as e,J as a,m as s,r as o,z as l,o as t,c as r,w as n,p as d,u as c,n as i,v as u,b as f,A as p,B as m,e as y,t as h,q as v,f as w,Q as b,y as x}from"./index-EUel_XYz.js";import{V as g}from"./vz-icon.BCw2lV4Q.js";import{c as k}from"./bem.DA8SpLb8.js";import{a as C}from"./unit.icpP3CzZ.js";import{b as B}from"./utils.Cxb1e_sX.js";import{F as _,a as S,d as P}from"./constants.ib7AlcVB.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";const z=j(e({name:"VZInput",__name:"vz-input",props:{modelValue:{default:""},type:{default:"text"},password:{type:Boolean,default:!1},passwordShowable:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},interspace:{},height:{},background:{},border:{type:Boolean,default:!1},borderBottom:{type:Boolean,default:!1},borderColor:{},square:{type:Boolean,default:!1},round:{type:Boolean,default:!1},textAlign:{},textColor:{},textSize:{},maxlength:{default:140},showWordLimit:{type:Boolean,default:!1},prefixIcon:{},suffixIcon:{},iconSize:{},iconColor:{},placeholder:{},placeholderClass:{default:"input-placeholder"},placeholderStyle:{},confirmType:{default:"done"},validate:{type:Boolean,default:!0},iClass:{},iStyle:{},cursor:{},cursorSpacing:{default:2},cursorColor:{},selectionStart:{default:-1},selectionEnd:{default:-1},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},adjustPosition:{type:Boolean,default:!0},alwaysEmbed:{type:Boolean,default:!1},safePasswordCertPath:{},safePasswordLength:{},safePasswordTimeStamp:{},safePasswordNonce:{},safePasswordSalt:{},safePasswordCustomHash:{}},emits:["update:modelValue","input","focus","blur","confirm","clear","click","prefix-icon","suffix-icon","keyboardheightchange","nicknamereview"],setup(e,{emit:j}){const z=a(_,void 0),I=a(S,void 0),V=e,$=j,q=k("input"),E=s((()=>q.cssVarBlock({interspace:C(V.interspace),height:C(V.height),background:V.background,"border-color":V.borderColor,"text-size":V.textSize,"text-color":V.textColor,"icon-size":C(V.iconSize),"icon-color":V.iconColor}))),H=o(!1),L=s((()=>V.disabled||(null==z?void 0:z.disabled))),N=s((()=>V.readonly||(null==z?void 0:z.readonly))),T=s((()=>V.clearable&&!L.value&&!N.value)),A=s((()=>!!V.modelValue&&H.value)),K=o(!1),F=s((()=>("password"===V.type||V.password)&&V.passwordShowable&&!L.value&&!N.value)),W=s((()=>K.value?"vz-icon-eye":"vz-icon-eye-close")),J=s((()=>V.showWordLimit&&Number(V.maxlength)>0&&"text"===V.type&&!L.value&&!N.value&&!V.password));function Q(){K.value=!K.value}function Z(){V.readonly&&$("click")}function D(){$("update:modelValue",""),$("input",""),$("clear")}function G(){$("prefix-icon")}function M(){$("suffix-icon")}function O(e){const a=e.detail.value;$("update:modelValue",a),$("input",e)}function R(e){H.value=!0,$("focus",e)}async function U(e){$("blur",e),V.validate&&(null==I||I.validate("blur").catch((e=>P.warn(e)))),await B(300),H.value=!1}function X(e){const a=e.detail.value;$("confirm",a)}function Y(e){$("keyboardheightchange",e)}function ee(e){$("nicknamereview",e)}return l((()=>V.modelValue),(()=>{V.validate&&(null==I||I.validate("change").catch((e=>P.warn(e))))})),(e,a)=>{const s=w,o=b,l=x;return t(),r(s,{class:d([c(q).b(),c(q).is("disabled",L.value),c(q).is("readonly",N.value),c(q).is("square",e.square),c(q).is("round",e.round),c(q).is("border",e.border),c(q).is("border-bottom",e.borderBottom),c(q).is("interspace",e.round||e.border||e.background),e.iClass]),style:v([E.value,e.iStyle]),onClick:Z},{default:n((()=>[e.prefixIcon||e.$slots.prefix?(t(),r(s,{key:0,class:d(c(q).e("prefix"))},{default:n((()=>[e.$slots.prefix?(t(),r(s,{key:0,class:d(c(q).e("prefix-slot"))},{default:n((()=>[i(e.$slots,"prefix",{},void 0,!0)])),_:3},8,["class"])):u("",!0),e.prefixIcon?(t(),r(s,{key:1,class:d([c(q).e("prefix-icon"),c(q).e("icon")]),onClick:G},{default:n((()=>[f(g,{name:e.prefixIcon},null,8,["name"])])),_:1},8,["class"])):u("",!0)])),_:3},8,["class"])):u("",!0),f(o,{class:d([c(q).e("inner"),c(q).em("inner",e.textAlign)]),value:e.modelValue,disabled:L.value||N.value,type:"password"===e.type||e.password?"text":e.type,password:("password"===e.type||e.password)&&!K.value,placeholder:e.placeholder,"placeholder-class":e.placeholderClass,"placeholder-style":e.placeholderStyle,focus:e.focus,maxlength:e.maxlength,"confirm-type":e.confirmType,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"cursor-color":e.cursorColor,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"confirm-hold":e.confirmHold,"hold-keyboard":e.holdKeyboard,"adjust-position":e.adjustPosition,"always-embed":e.alwaysEmbed,"safe-password-cert-path":e.safePasswordCertPath,"safe-password-length":e.safePasswordLength,"safe-password-time-stamp":e.safePasswordTimeStamp,"safe-password-nonce":e.safePasswordNonce,"safe-password-salt":e.safePasswordSalt,"safe-password-custom-hash":e.safePasswordCustomHash,onInput:O,onFocus:R,onBlur:U,onConfirm:X,onKeyboardheightchange:Y,onNicknamereview:ee},null,8,["class","value","disabled","type","password","placeholder","placeholder-class","placeholder-style","focus","maxlength","confirm-type","cursor","cursor-spacing","cursor-color","selection-start","selection-end","confirm-hold","hold-keyboard","adjust-position","always-embed","safe-password-cert-path","safe-password-length","safe-password-time-stamp","safe-password-nonce","safe-password-salt","safe-password-custom-hash"]),T.value||F.value||J.value||e.suffixIcon||e.$slots.suffix?(t(),r(s,{key:1,class:d(c(q).e("suffix"))},{default:n((()=>[T.value?p((t(),r(s,{key:0,class:d([c(q).e("clear"),c(q).e("icon")]),onClick:D},{default:n((()=>[f(g,{name:"vz-icon-close-circle"})])),_:1},8,["class"])),[[m,A.value]]):u("",!0),F.value?(t(),r(s,{key:1,class:d([c(q).e("password"),c(q).e("icon")]),onClick:Q},{default:n((()=>[f(g,{name:W.value},null,8,["name"])])),_:1},8,["class"])):u("",!0),J.value?(t(),r(s,{key:2,class:d(c(q).e("counter"))},{default:n((()=>[f(l,null,{default:n((()=>[y(h(e.modelValue.length),1)])),_:1}),f(l,null,{default:n((()=>[y("/")])),_:1}),f(l,null,{default:n((()=>[y(h(e.maxlength),1)])),_:1})])),_:1},8,["class"])):u("",!0),e.suffixIcon?(t(),r(s,{key:3,class:d([c(q).e("suffix-icon"),c(q).e("icon")]),onClick:M},{default:n((()=>[f(g,{name:e.suffixIcon},null,8,["name"])])),_:1},8,["class"])):u("",!0),e.$slots.suffix?(t(),r(s,{key:4,class:d(c(q).e("suffix-slot"))},{default:n((()=>[i(e.$slots,"suffix",{},void 0,!0)])),_:3},8,["class"])):u("",!0)])),_:3},8,["class"])):u("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-4eaa1b15"]]);export{z as _};
